trigger:
- main

pool:
  name: Kevin_pool
stages: 
  - stage: 'build'
    jobs:
      - job: 'Installation'

        steps:
        - task: NodeTool@0 
          inputs:
            versionSource: spec
            versionSpec: '22.14.0'
          displayName: 'Install Node.js'

        - script: |
            npm install
            npm run build
            npm test
        - task: Docker@2
          displayName: 'Docker build'
          inputs:
              containerRegistry: 'DockerConnection'
              repository: 'kevinchacko1/ytclone-test'
              command: 'buildAndPush'
              Dockerfile: '**/Dockerfile'
              
